name: ðŸŒ™ Mystic Daily Commit

on:
  schedule:
    - cron: '0 12 * * *'
  workflow_dispatch:

jobs:
  commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the repo
        uses: actions/checkout@v4

      - name: Generate mystic quote and append to README
        run: |
          quotes=(
            "ðŸŒ’ æœˆå½±æºã‚Œã€è¨€è‘‰ã¯é¢¨ã«æ¶ˆã‚†ã€‚"
            "ðŸŒ“ é™å¤œã«ã€æ˜Ÿã®å£°ãŒèƒ¸ã‚’æ‰“ã¤ã€‚"
            "ðŸŒ• é›²ã‚’å‰²ã‚Šã€ç™½ãæœˆã€ãŸã ç‹¬ã‚Šã€‚"
            "ðŸŒ˜ é³¥ã‚‚çœ ã‚‹ã€å¤œã®åº•ã«å¤¢ã²ã¨ã¤ã€‚"
            "ðŸŒ‘ é—‡ã‚’æŠ±ãã€å…‰ã¯ãªãŠç”Ÿã¾ã‚Œãã‚‹ã€‚"
            "ðŸŒ™ é¢¨èŠ±èˆžã„ã€éŽåŽ»ã¨æœªæ¥ã‚’ç¹‹ãã€‚"
            "ðŸŒ— å¤¢ã®è·¡ã€æœˆã ã‘ãŒã™ã¹ã¦ã‚’è¦‹ã¦ã„ãŸã€‚"
            "ðŸŒ– æ³¡æ²«ã®ã”ã¨ãã€æƒ³ã„ã¯æ˜‡è¯ã™ã€‚"
            "ðŸŒ” ç™½éœ²è½ã¡ã€è¨˜æ†¶ã®èˆŸã¯å²¸ã‚’é›¢ã‚‹ã€‚"
            "ðŸŒ‘ è¦‹ãˆã¬ã‚‚ã®ã“ãã€å¿ƒã‚’ç…§ã‚‰ã™ã€‚"
          )
          QUOTE=${quotes[$RANDOM % ${#quotes[@]}]}
          echo "$QUOTE - $(date '+%Y-%m-%d')" >> README.md

      - name: Commit and push changes
        env:
          TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          git config --global user.name "Qimin-Shen"
          git config --global user.email "qimshen@bu.edu"
          git remote set-url origin https://x-access-token:${TOKEN}@github.com/${{ github.repository }}
          git add README.md
          git commit -m "ðŸŒŒ Mystic update on $(date '+%Y-%m-%d')" || echo "No changes to commit"
          git push origin main