name: ğŸŒ™ Mystic Daily Commit

on:
  schedule:
    - cron: '0 12 * * *'   # æ¯å¤© UTC æ—¶é—´ä¸­åˆ 12 ç‚¹è§¦å‘ï¼ˆåŒ—äº¬æ—¶é—´æ™šä¸Š 8 ç‚¹ï¼‰
  workflow_dispatch:        # ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿è¡Œä¸€æ¬¡

jobs:
  commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the repo
        uses: actions/checkout@v4

      - name: Generate mystic quote and append to README
        run: |
          QUOTE=$(shuf -n 1 <<EOF
ğŸŒ’ æœˆå½±æºã‚Œã€è¨€è‘‰ã¯é¢¨ã«æ¶ˆã‚†ã€‚
ğŸŒ“ é™å¤œã«ã€æ˜Ÿã®å£°ãŒèƒ¸ã‚’æ‰“ã¤ã€‚
ğŸŒ• é›²ã‚’å‰²ã‚Šã€ç™½ãæœˆã€ãŸã ç‹¬ã‚Šã€‚
ğŸŒ˜ é³¥ã‚‚çœ ã‚‹ã€å¤œã®åº•ã«å¤¢ã²ã¨ã¤ã€‚
ğŸŒ‘ é—‡ã‚’æŠ±ãã€å…‰ã¯ãªãŠç”Ÿã¾ã‚Œãã‚‹ã€‚
ğŸŒ™ é¢¨èŠ±èˆã„ã€éå»ã¨æœªæ¥ã‚’ç¹‹ãã€‚
ğŸŒ— å¤¢ã®è·¡ã€æœˆã ã‘ãŒã™ã¹ã¦ã‚’è¦‹ã¦ã„ãŸã€‚
ğŸŒ– æ³¡æ²«ã®ã”ã¨ãã€æƒ³ã„ã¯æ˜‡è¯ã™ã€‚
ğŸŒ” ç™½éœ²è½ã¡ã€è¨˜æ†¶ã®èˆŸã¯å²¸ã‚’é›¢ã‚‹ã€‚
ğŸŒ‘ è¦‹ãˆã¬ã‚‚ã®ã“ãã€å¿ƒã‚’ç…§ã‚‰ã™ã€‚
EOF
)
          echo "$QUOTE  - $(date '+%Y-%m-%d')" >> README.md

      - name: Commit and push changes
        run: |
          git config --global user.name "Qimin-Shen"
          git config --global user.email "qimshen@bu.edu"
          git add README.md
          git commit -m "ğŸŒŒ Mystic update on $(date '+%Y-%m-%d')" || echo "No changes to commit"
          git push origin main
